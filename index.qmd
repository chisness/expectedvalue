---
title: "The Expected Value Foundation"
format: html
resources: 
    - CNAME
---
## Welcome! 
We believe that expected value is one of the most important concepts for making better decisions in an uncertain world. Understanding expected value helps us think more clearly about risks, rewards, and tradeoffs.

Nate Silver in *On the Edge*: 

> Society would be generally better off--I'll confidently contend--if people understood the nature of expected value and specifically the importance of low-probability, high-impact events, whether they come in the form of fantastic potential payoffs or catastrophic risks.

## What is expected value (EV)?
EV is the average of all possible outcomes. It's computed by adding each possible outcome weighted by its probability of occurring: 

$\text{Expected Value} = \text{Add up for all possible outcomes: } \text{(Probability of each outcome)} \cdot \text{(Value of that outcome)}$

In math terms:

$\mathbb{E}[X] = \sum\limits_{i} P(X=x_i) \cdot x_i$

### Drawing a card
Here's a simple card game where you get to draw 1 card and get the prize indicated on that card. 

![](card-game.svg){fig-alt="A visualization showing four playing cards displaying numbers 1, 1, 2, and 3, each with a 1/4 chance of being drawn"}

There are 4 possible outcomes. Note that the probabilities (weights) always sum to 1 because they describe all possible outcomes. 

| Probability | Value |
|------------|-------|
| 1/4        | 1     |
| 1/4        | 1     |
| 1/4        | 2     |
| 1/4        | 3     |

Let's compute the EV: 

$$
\begin{align*}
\mathbb{E}[\text{Draw Card}] &= \frac{1}{4}(1) + \frac{1}{4}(1) + \frac{1}{4}(2) + \frac{1}{4}(3) \\
&= \frac{1}{4} + \frac{1}{4} + \frac{2}{4} + \frac{3}{4} \\
&= \frac{7}{4} \\
&= 1.75
\end{align*}
$$

Therefore the expected value, or average outcome, when drawing a card is **1.75**. 

Note that EV is not a possible outcome (we couldn't actually draw 1.75), but rather summarizes the set of possible outcomes. 

```{ojs}
//| echo: false
// Create buttons with proper styling
viewof drawOne = Inputs.button("Draw 1 Card", {
  style: `
    background: black;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    margin-right: 8px;
  `
})

viewof drawTen = Inputs.button("Draw 10 Cards", {
  style: `
    background: black;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    margin-right: 8px;
  `
})

viewof drawHundred = Inputs.button("Draw 100 Cards", {
  style: `
    background: black;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    margin-right: 8px;
  `
})

viewof resetBtn = Inputs.button("Reset", {
  style: `
    background: white;
    color: black;
    border: 1px solid black;
    padding: 8px 16px;
    border-radius: 6px;
  `
})

// Constants
cards = [1, 1, 2, 3]
expectedValue = 1.75

// State management
values = {
  let currentValues = window._cardValues || [];
  
  drawOne, drawTen, drawHundred, resetBtn;
  
  if (resetBtn) {
    window._cardValues = [];
    return [];
  }
  
  if (drawOne) {
    currentValues = [...currentValues, cards[Math.floor(Math.random() * cards.length)]];
  }
  if (drawTen) {
    for (let i = 0; i < 10; i++) {
      currentValues = [...currentValues, cards[Math.floor(Math.random() * cards.length)]];
    }
  }
  if (drawHundred) {
    for (let i = 0; i < 100; i++) {
      currentValues = [...currentValues, cards[Math.floor(Math.random() * cards.length)]];
    }
  }
  
  window._cardValues = currentValues;
  return currentValues;
}

// Calculate running averages
runningAverages = values.map((_, i) => ({
  x: i + 1,
  y: values.slice(0, i + 1).reduce((a, b) => a + b, 0) / (i + 1)
}))

// Stats display
currentAverage = runningAverages.length > 0 ? runningAverages[runningAverages.length - 1].y.toFixed(3) : "N/A"
totalDraws = values.length
lastDraw = values.length > 0 ? values[values.length - 1] : "N/A"

md`
<div style="font-family: system-ui, -apple-system; margin: 20px 0; font-size: 16px; line-height: 1.5;">
  <div><strong>Last draw:</strong> ${lastDraw}</div>
  <div><strong>Total draws:</strong> ${totalDraws}</div>
  <div><strong>Current average:</strong> ${currentAverage}</div>
</div>
`

// Create the plot
Plot.plot({
  width: 800,
  height: 400,
  margin: 50,
  grid: true,
  style: {
    fontSize: 12,
    fontFamily: "system-ui, -apple-system"
  },
  y: {
    domain: [0, 4],
    label: "↑ Running Average",
    grid: true
  },
  x: {
    label: "Number of Draws →",
    grid: true
  },
  marks: [
    Plot.line(runningAverages, {
      x: "x", 
      y: "y", 
      stroke: "#2196f3",
      strokeWidth: 1.5
    }),
    Plot.ruleY([expectedValue], {
      stroke: "red", 
      strokeDasharray: "5,5",
      strokeOpacity: 0.5
    }),
    Plot.text([{x: runningAverages.length, y: expectedValue}], {
      text: ["Expected Value (1.75)"],
      dx: 10,
      fill: "red",
      fontSize: 10
    })
  ]
})
```

### Buying ice cream

**Suppose that you are buying an ice cream:**

The store is selling an ice cream cone for **$7**. 

They also have a special offer: 

- Flip a coin
- If the coin is **heads**, you buy the ice cream for **$10**
- If the coin is **tails**, you get the ice cream for **free**

interactive

**What is the expected value of the coin flip?**

1. What is the probability of each outcome? Heads and tails are both 50% likely. 

2. What is the value of each outcome? The cost for heads is $10 and the cost for tails is $0. 

3. The expected value of the coin flip is as follows, where $P$ represents probability and $V$ represents value.

$$
\begin{aligned}
\text{EV} &= P(\text{Heads}) \cdot V(\text{Heads}) + P(\text{Tails}) \cdot V(\text{Tails}) \\
   &= (0.5) \cdot (\$10) + (0.5) \cdot (\$0) \\
   &= \$5
\end{aligned}
$$

This means that the *expected value* of the coin flip is **$5**, a better deal than the standard price of **$7**. 

The EV calculation helps make decisions by providing a framework to evaluate options with uncertain outcomes. In most cases, the better expected value means that that is the better decision, and we should therefore **take the coin flip option**. 

But not always. There are other considerations like risk tolerance (some prefer a guaranteed price of $7 to chancing a price of $10), resource constraints ($10 could be a large strain on the budget), and others. 

## What we do
- [expectedvalue.org](tutorial/): Learn about expected value through our tutorial and interactive examples
- [EV Workshops](workshops/): In-person workshops on expected value
- [EV Day](evday2025/): A day of EV-centric and adjacent workshops and a poker tournament
- [Poker Camp](https://poker.camp): Workshops and courses on AI and applied rationality through the lens of poker
- [EV Fellowship](fellows.qmd): Contribute your strengths to the EVF in areas like research, coding, writing, logistics, running workshops, and creating videos

![EV workshop at Ecole les Hirondelles Mermoz in Dakar, Senegal (December, 2024)](assets/dakar1.jpg){width=50%}